\documentclass{article}

\usepackage{graphicx}
\usepackage{tikz}

\usepackage{amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}

\begin{document}

\section{Topic}

\begin{theorem}[Riemann]\label{thm:riemann}
Riemann hypothesis holds!
\end{theorem}

\begin{lemma}[First lemma]\label{lem:1}
  ...
\end{lemma}

\begin{lemma}[Second lemma]\label{lem:2}
...
\end{lemma}
\begin{proof}
Use Lemma~\ref{lem:1}
\end{proof}

\begin{lemma}[Third lemma]\label{lem:3}
...
\end{lemma}

\begin{proof}[Proof of Theorem~\ref{thm:riemann}]
Use Lemmas~\ref{lem:2} and~\ref{lem:3}.
\end{proof}

\section{Dependencies}

From \texttt{graph.tex} made by \texttt{dot2tex}:

\IfFileExists{graph.tex}{\input{graph.tex}}{(not found)}

\bigskip

From \texttt{graph.pdf} made by \texttt{dot}:

\IfFileExists{graph.pdf}{\includegraphics[width=0.8\textwidth]{graph.pdf}}{(not found)}

\end{document}
